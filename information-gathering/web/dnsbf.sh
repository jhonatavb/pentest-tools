#!/bin/bash

if [[ -z $2 || -f $2 ]]; then
  formatt=" "
  wordlist=$2
else
  formatt=".$2"
fi

if [[ -z $3 && $wordlist == "" ]]; then
  wordlist="/usr/share/dirb/wordlists/common.txt"
elif [[ $3 != "" ]]; then 
  wordlist=$3
fi

for word in $(cat $wordlist); do
  res=$(curl -s -o /dev/null -H "User-Agent: Chrome/100.0.4896.127" -w "%{http_code}" $1/$word/)
  if [ $res != "404" ]; then
    echo "Found directory ==> $1/$word/"
  fi
done

echo "----------------------------------------"

for word in $(cat $wordlist); do
  res=$(curl -s -o /dev/null -H "User-Agent: Chrome/100.0.4896.127" -w "%{http_code}" $1/$word$formatt)
  if [ $res != "404" ]; then
    echo "Found file  ==> $1/$word$formatt"
  fi
done
